<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>R Carlos Rivera Flores | Data & Improvement Portfolio</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Playfair+Display:ital,wght@0,600;1,600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    :root {
      --primary: #0f172a;
      --secondary: #334155;
      --accent: #0ea5e9;
      --accent-hover: #0284c7;
      --bg-light: #f8fafc;
      --white: #ffffff;
      --text-gray: #64748b;
      --glass: rgba(255, 255, 255, 0.95);
    }

    /* --- ESTILOS BASE --- */
    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--bg-light);
      color: var(--primary);
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* --- HEADER / HERO --- */
    header {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      color: var(--white);
      padding: 5rem 1.5rem 6rem;
      text-align: center;
      clip-path: polygon(0 0, 100% 0, 100% 90%, 0 100%);
    }

    .logo {
      width: 130px;
      height: 130px;
      border-radius: 50%;
      border: 4px solid var(--accent);
      object-fit: cover;
      margin-bottom: 1.5rem;
      box-shadow: 0 0 30px rgba(14, 165, 233, 0.3);
    }

    header h1 {
      font-family: 'Playfair Display', serif;
      font-size: 3rem;
      margin: 0.5rem 0;
      letter-spacing: -1px;
    }

    .subtitle {
      font-size: 1.25rem;
      color: #cbd5e1;
      max-width: 700px;
      margin: 0 auto 2rem;
      font-weight: 300;
    }

    /* --- NAV --- */
    nav {
      background: rgba(255, 255, 255, 0.1);
      display: inline-flex;
      padding: 0.5rem 1rem;
      border-radius: 50px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
    }

    nav a {
      color: var(--white);
      margin: 0 20px;
      text-decoration: none;
      font-weight: 500;
      font-size: 0.95rem;
      transition: all 0.3s;
    }

    nav a:hover {
      color: var(--accent);
      transform: translateY(-2px);
    }

    /* --- SECCIONES --- */
    section {
      padding: 4rem 1.5rem;
      max-width: 1100px;
      margin: auto;
    }

    h2 {
      text-align: center;
      font-size: 2.2rem;
      margin-bottom: 3.5rem;
      color: var(--primary);
      position: relative;
    }
    
    h2::after {
      content: '';
      display: block;
      width: 80px;
      height: 4px;
      background: var(--accent);
      margin: 15px auto 0;
      border-radius: 2px;
    }

    /* --- MÉTRICAS --- */
    .metrics-container {
      display: flex;
      justify-content: center;
      gap: 2rem;
      flex-wrap: wrap;
      margin-top: -5rem;
      margin-bottom: 3rem;
      position: relative;
      z-index: 10;
      padding: 0 1rem;
    }

    .metric-card {
      background: var(--white);
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 20px 40px rgba(0,0,0,0.08);
      text-align: center;
      flex: 1 1 200px;
      max-width: 300px;
      border-top: 5px solid var(--accent);
      transition: transform 0.3s;
    }

    .metric-card:hover {
      transform: translateY(-10px);
    }

    .metric-number {
      font-size: 3rem;
      font-weight: 800;
      color: var(--primary);
      display: block;
      line-height: 1;
      margin-bottom: 0.5rem;
    }

    /* --- PROYECTOS (GRID) --- */
    .project-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2.5rem;
    }

    .project-card {
      background: var(--white);
      border-radius: 1.5rem;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.04);
      transition: all 0.4s ease;
      border: 1px solid #f1f5f9;
      cursor: pointer;
      position: relative;
      display: flex;
      flex-direction: column;
    }

    .project-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 25px 50px rgba(0,0,0,0.1);
      border-color: var(--accent);
    }

    .project-header {
      background: var(--primary);
      padding: 1rem;
      text-align: right;
    }

    .project-header i {
      color: rgba(255,255,255,0.2);
      font-size: 3rem;
    }

    .project-content {
      padding: 2rem;
      flex-grow: 1;
    }

    .project-role {
      font-size: 0.8rem;
      color: var(--accent);
      text-transform: uppercase;
      letter-spacing: 1.5px;
      font-weight: 700;
      margin-bottom: 0.8rem;
      display: block;
    }

    .project-title {
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: var(--primary);
      line-height: 1.3;
    }

    .impact-badge {
      background-color: #f0f9ff;
      color: #0369a1;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
      display: inline-block;
      border: 1px solid #bae6fd;
    }

    .btn-details {
      margin-top: auto;
      text-align: center;
      padding: 1.5rem;
      border-top: 1px solid #f1f5f9;
      color: var(--accent);
      font-weight: 700;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: background 0.3s;
    }

    .project-card:hover .btn-details {
      background: var(--accent);
      color: white;
    }

    /* --- MODAL (LO NUEVO Y AVANZADO) --- */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(15, 23, 42, 0.8);
      backdrop-filter: blur(8px);
      z-index: 1000;
      display: none; /* Oculto por defecto */
      justify-content: center;
      align-items: center;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .modal-overlay.active {
      display: flex;
      opacity: 1;
    }

    .modal-content {
      background: var(--white);
      width: 90%;
      max-width: 800px;
      max-height: 90vh;
      border-radius: 1.5rem;
      overflow-y: auto;
      position: relative;
      transform: scale(0.9);
      transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      box-shadow: 0 25px 50px rgba(0,0,0,0.25);
    }

    .modal-overlay.active .modal-content {
      transform: scale(1);
    }

    .close-modal {
      position: absolute;
      top: 1.5rem;
      right: 1.5rem;
      background: #f1f5f9;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      color: var(--secondary);
      transition: all 0.2s;
      z-index: 10;
    }

    .close-modal:hover {
      background: #e2e8f0;
      color: var(--primary);
      transform: rotate(90deg);
    }

    /* Estilos dentro del modal */
    .modal-header {
      background: var(--primary);
      color: white;
      padding: 3rem 2rem;
      background-image: url('https://www.transparenttextures.com/patterns/cubes.png'); /* Textura sutil */
    }

    .modal-body {
      padding: 2.5rem;
    }

    .privacy-notice {
      background: #fff7ed;
      border-left: 4px solid #f97316;
      color: #9a3412;
      padding: 1rem;
      font-size: 0.85rem;
      margin-bottom: 2rem;
      border-radius: 0 8px 8px 0;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .modal-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
    }

    @media (max-width: 768px) {
      .modal-grid { grid-template-columns: 1fr; }
    }

    .modal-img-placeholder {
      background: #e2e8f0;
      height: 250px;
      border-radius: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #94a3b8;
      font-size: 3rem;
      margin-bottom: 1rem;
      position: relative;
      overflow: hidden;
    }
    
    .modal-img-placeholder::after {
        content: "Imagen Ilustrativa";
        position: absolute;
        bottom: 10px;
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 1px;
    }
/* --- ESTILOS DE LA IMAGEN REAL Y EL ZOOM --- */
    .project-img-real {
      width: 100%;
      border-radius: 1rem;
      object-fit: cover;
      margin-bottom: 1rem;
      background-color: #e2e8f0;
      display: block;
      cursor: zoom-in;
      /* Transición suave para posición y tamaño */
      transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    /* Clase activa para el Zoom Centrado */
    .project-img-real.zoomed {
      position: fixed;       /* Se 'despega' del flujo normal */
      top: 50%;              /* Se mueve a la mitad vertical */
      left: 50%;             /* Se mueve a la mitad horizontal */
      transform: translate(-50%, -50%) scale(1); /* Se centra exactamente */
      
      width: auto;           /* Deja que la imagen tome su ancho natural */
      height: auto;          /* Deja que tome su alto natural */
      max-width: 90vw;       /* Pero que no pase del 90% del ancho de pantalla */
      max-height: 85vh;      /* Y que no pase del 85% del alto */
      
      z-index: 9999;         /* Se pone ENFRENTE de todo, incluso del modal */
      box-shadow: 0 0 0 100vmax rgba(0, 0, 0, 0.7); /* Oscurece el fondo */
      cursor: zoom-out;
      border-radius: 0.5rem;
    }

/* Esta clase se agregará cuando des clic */
.project-img-real.zoomed {
  transform: scale(1.7); /* Aumenta el tamaño un 70% */
  z-index: 100; /* Se pone por encima del texto */
  box-shadow: 0 25px 50px rgba(0,0,0,0.5); /* Sombra fuerte para dar efecto 3D */
  cursor: zoom-out; /* El cursor se convierte en lupa - */
}

/* Ajuste para celulares (para que no se salga de la pantalla) */
@media (max-width: 768px) {
  .project-img-real.zoomed {
    transform: scale(1.2); /* En celular solo aumenta un 20% */
  }
}
}
    /* --- TECH STACK --- */
    .tech-pill {
      background: #f1f5f9;
      padding: 0.4rem 1rem;
      border-radius: 50px;
      font-size: 0.8rem;
      font-weight: 600;
      margin-right: 0.5rem;
      margin-bottom: 0.5rem;
      display: inline-block;
    }

    /* --- CONTACTO --- */
    .contacto-container {
      background: var(--white);
      padding: 4rem 2rem;
      border-radius: 1.5rem;
      box-shadow: 0 20px 40px rgba(0,0,0,0.05);
      text-align: center;
      border: 1px solid #f1f5f9;
    }

    .btn-contact {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 1rem 2.5rem;
      border-radius: 50px;
      text-decoration: none;
      font-weight: 700;
      margin: 10px;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .btn-contact:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }

    .whatsapp { background-color: #25D366; color: white; }
    .linkedin { background-color: #0077b5; color: white; }
    .email { background-color: var(--secondary); color: white; }

    footer {
      background-color: var(--primary);
      color: #94a3b8;
      padding: 3rem;
      text-align: center;
      font-size: 0.9rem;
      margin-top: 5rem;
    }
  </style>
</head>
<body>

  <header>
    <img src="https://avatars.githubusercontent.com/u/85600401?v=4" alt="Carlos Rivera" class="logo">
    <h1>R Carlos Rivera Flores</h1>
    <p class="subtitle"> Analista de datos | R, Power Platform & BI</p>
    <nav>
      <a href="#proyectos">Portafolio</a>
      <a href="#habilidades">Habilidades</a>
      <a href="#contacto">Contacto</a>
    </nav>
  </header>

  <div class="metrics-container">
    <div class="metric-card">
      <span class="metric-number">60%</span>
      <span class="metric-label">Menos tiempo en reportes</span>
    </div>
    <div class="metric-card">
      <span class="metric-number">40%</span>
      <span class="metric-label">Ahorro operativo (Lean)</span>
    </div>
    <div class="metric-card">
      <span class="metric-number">15%</span>
      <span class="metric-label">Mejora en precisión</span>
    </div>
  </div>

  <section id="proyectos">
    <h2>Proyectos</h2>
    <div class="project-grid">
      
      <div class="project-card" onclick="openModal(1)">
        <div class="project-header">
          <i class="fas fa-university"></i>
        </div>
        <div class="project-content">
          <span class="project-role">Rectoría UV</span>
          <h3 class="project-title">Sistema de análisis institucional</h3>
          <div class="impact-badge">
            <i class="fas fa-arrow-down"></i> -60% Tiempos de entrega
          </div>
          <p style="font-size: 0.9rem; color: #64748b;">Automatización completa del ciclo de reportes trimestrales utilizando R y dashboards interactivos.</p>
        </div>
        <div class="btn-details">
          Ver caso completo <i class="fas fa-chevron-right" style="font-size: 0.8rem; margin-left: 5px;"></i>
        </div>
      </div>

      <div class="project-card" onclick="openModal(2)">
        <div class="project-header">
          <i class="fas fa-industry"></i>
        </div>
        <div class="project-content">
          <span class="project-role">Sector privado</span>
          <h3 class="project-title">Automatización de flujos operativos (RPA)</h3>
          <div class="impact-badge">
            <i class="fas fa-bolt"></i> -40% Carga operativa
          </div>
          <p style="font-size: 0.9rem; color: #64748b;">Eliminación de tareas manuales repetitivas mediante Power Automate y limpieza de datos maestros</p>
        </div>
        <div class="btn-details">
          Ver caso completo <i class="fas fa-chevron-right" style="font-size: 0.8rem; margin-left: 5px;"></i>
        </div>
      </div>

      <div class="project-card" onclick="openModal(3)">
        <div class="project-header">
          <i class="fas fa-chart-line"></i>
        </div>
        <div class="project-content">
          <span class="project-role">Consultoría Independiente</span>
          <h3 class="project-title">Modelado predictivo y control estadístico</h3>
          <div class="impact-badge">
            <i class="fas fa-bullseye"></i> +15% Precisión
          </div>
          <p style="font-size: 0.9rem; color: #64748b;">Aplicación de estadística multivariada para detectar patrones y prevenir desviaciones.</p>
        </div>
        <div class="btn-details">
          Ver caso completo <i class="fas fa-chevron-right" style="font-size: 0.8rem; margin-left: 5px;"></i>
        </div>
      </div>

    </div>
  </section>

  <section id="habilidades" style="background: white; border-radius: 2rem; margin-bottom: 4rem;">
    <h2>Stack tecnológico</h2>
    <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 3rem; text-align: center;">
      <div>
        <i class="fab fa-r-project" style="font-size: 3rem; color: #276dc3; margin-bottom: 1rem;"></i>
        <h3 style="margin: 0;">R Stats</h3>
        <p style="font-size: 0.9rem; color: #64748b;">Experto</p>
      </div>
      <div>
        <i class="fas fa-database" style="font-size: 3rem; color: #e11d48; margin-bottom: 1rem;"></i>
        <h3 style="margin: 0;">SQL & NoSQL</h3>
        <p style="font-size: 0.9rem; color: #64748b;">Gestión de datos</p>
      </div>
      <div>
        <i class="fas fa-chart-bar" style="font-size: 3rem; color: #f59e0b; margin-bottom: 1rem;"></i>
        <h3 style="margin: 0;">Power BI</h3>
        <p style="font-size: 0.9rem; color: #64748b;">Dashboards</p>
      </div>
      <div>
        <i class="fas fa-cogs" style="font-size: 3rem; color: #059669; margin-bottom: 1rem;"></i>
        <h3 style="margin: 0;">Power Automate</h3>
        <p style="font-size: 0.9rem; color: #64748b;">Automatización</p>
      </div>
    </div>
  </section>

  <section id="contacto">
    <h2>¡Impúlsate!</h2>
    <div class="contacto-container">
      <p style="font-size: 1.2rem; max-width: 600px; margin: 0 auto 2rem;">¿Buscas ir más allá con tus datos? Hablemos de cómo mis herramientas pueden transformar tus decisiones </p>
      
      <a class="btn-contact whatsapp" href="https://wa.me/525653936212" target="_blank">
        <i class="fab fa-whatsapp"></i> WhatsApp
      </a>
      <a class="btn-contact linkedin" href="https://www.linkedin.com/in/carlosrrff/" target="_blank">
        <i class="fab fa-linkedin"></i> LinkedIn
      </a>
      <a class="btn-contact email" href="mailto:carlos.rrf06@gmail.com">
        <i class="fas fa-envelope"></i> Email
      </a>
    </div>
  </section>

  <div class="modal-overlay" id="modalOverlay">
    <div class="modal-content">
      <button class="close-modal" onclick="closeModal()"><i class="fas fa-times"></i></button>
      
      <div class="modal-header">
        <span id="m-role" style="opacity: 0.8; font-weight: 600; text-transform: uppercase; letter-spacing: 1px;">Rol</span>
        <h2 id="m-title" style="margin: 0.5rem 0 0; font-size: 2rem; text-align: left; color: white;">Título</h2>
      </div>

      <div class="modal-body">
        <div class="privacy-notice">
          <i class="fas fa-shield-alt" style="font-size: 1.5rem;"></i>
          <div>
            <strong>Privacidad de datos:</strong> Las imágenes mostradas a continuación son representaciones ilustrativas y genéricas. Los datos reales y sensibles han sido omitidos para cumplir con acuerdos de confidencialidad.
          </div>
        </div>

        <div class="modal-grid">
          <div>
            <h4 style="color: var(--primary);">El desafío</h4>
            <p id="m-desc" style="color: var(--text-gray); font-size: 0.95rem;">Descripción detallada.</p>
            
            <h4 style="color: var(--primary); margin-top: 1.5rem;">Tecnologías Aplicadas</h4>
            <div id="m-techs"></div>
          </div>
          
          <div>
            <img id="m-img-1" src="" alt="Vista Principal" class="project-img-real" onclick="toggleZoom(this)">
            <img id="m-img-2" src="" alt="Vista Detalle" class="project-img-real" style="height: 150px;" onclick="toggleZoom(this)">
          </div>
        </div>

        <div style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid #e2e8f0;">
          <h4 style="color: var(--primary);">Impacto cuantificable</h4>
          <p id="m-result" style="font-size: 1.1rem; font-weight: 500; color: var(--accent);"></p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Datos de los proyectos (Fáciles de editar aquí)
    const projectsData = {
      1: {
        role: "Rectoría Universidad Veracruzana",
        title: "Sistema de análisis institucional",
        desc: "La institución enfrentaba retrasos críticos en la generación de informes trimestrales debido al procesamiento manual de grandes volúmenes de datos. Implementé un sistema integral en R que automatiza la limpieza, transformación y visualización. Esto permitió pasar de semanas de trabajo a un proceso de ejecución casi inmediata, liberando al personal para tareas de análisis estratégico.",
        techs: ["R language", "Limpieza de datos", "Automatización", "Dashboards"],
        result: "Reducción del 60% en el tiempo de elaboración de informes y eliminación total de errores de captura manual.",
        img1: "img/Proyecto1_1.png", 
        img2: "img/Proyecto1_1.png"
      },
      2: {
        role: "Sector privado",
        title: "Automatización de flujos operativos",
        desc: "Se identificaron cuellos de botella en la comunicación interna y procesos repetitivos de aprobación. Diseñé e implementé flujos automatizados con Power Automate y Power Apps que gestionan notificaciones y aprobaciones sin intervención humana. Además, integré scripts para depurar las bases de datos de incidencias.",
        techs: ["Power Automate", "Power BI", "Excel"],
        result: "Optimización del 40% en tiempos operativos y mejora sustancial en la trazabilidad de las incidencias.",
        img1: "img/Proyecto1_1.png", 
        img2: "img/Proyecto1_1.png"
      },
      3: {
        role: "Consultoría privada",
        title: "Modelado predictivo en salud y finanzas",
        desc: "Desarrollo de modelos estadísticos avanzados para clientes externos. Mediante técnicas de inferencia estadística y regresión multivariada, logramos identificar patrones ocultos en históricos de datos clínicos y financieros, permitiendo anticipar escenarios futuros con mayor certeza.",
        techs: ["Estadística multivariada", "R language", "Machine Learning", "Pruebas de Hipótesis", "Limpieza de datos"],
        result: "Incremento del 15% en la precisión de las predicciones, facilitando decisiones basadas en evidencia sólida.",
        img1: "img/Proyecto1_1.png", 
        img2: "img/Proyecto1_1.png"
      }
    };

    const modalOverlay = document.getElementById('modalOverlay');

    function openModal(id) {
      const data = projectsData[id];
      // Llenar datos
      document.getElementById('m-role').textContent = data.role;
      document.getElementById('m-title').textContent = data.title;
      document.getElementById('m-desc').textContent = data.desc;
      document.getElementById('m-result').innerHTML = `<i class="fas fa-check-circle"></i> ${data.result}`;
      const img1 = document.getElementById('m-img-1');
      const img2 = document.getElementById('m-img-2');
      img1.src = data.img1 || 'https://via.placeholder.com/600x400'; 
      img2.src = data.img2 || 'https://via.placeholder.com/600x200';
      
      
      // Llenar pills de tecnología
      const techContainer = document.getElementById('m-techs');
      techContainer.innerHTML = '';
      data.techs.forEach(tech => {
        const span = document.createElement('span');
        span.className = 'tech-pill';
        span.textContent = tech;
        techContainer.appendChild(span);
      });

      // Mostrar modal
      modalOverlay.classList.add('active');
      document.body.style.overflow = 'hidden'; // Evitar scroll de fondo
    }

    function closeModal() {
      modalOverlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    }

    // Cerrar si clic fuera del contenido
    modalOverlay.addEventListener('click', (e) => {
      if (e.target === modalOverlay) {
        closeModal();
      }
    });
    // --- PEGAR ESTO AL FINAL DE TU SCRIPT ---
    
    function toggleZoom(element) {
      // Opcional: Si haces clic en una, que la otra se cierre
      const images = document.querySelectorAll('.project-img-real');
      images.forEach(img => {
        if (img !== element) {
          img.classList.remove('zoomed');
        }
      });

      // Activar o desactivar el zoom en la imagen cliqueada
      element.classList.toggle('zoomed');
    }

    // Truco extra: Si cierras el modal, quitar el zoom para la próxima vez
    const originalCloseModal = closeModal; // Guardamos tu función original
    closeModal = function() {
      // Quitamos el zoom de todas las imágenes
      document.querySelectorAll('.project-img-real').forEach(img => img.classList.remove('zoomed'));
      // Ejecutamos la función de cerrar normal
      originalCloseModal();
    }
    // --- FUNCIÓN PARA EL ZOOM CENTRADO ---
    function toggleZoom(element) {
      // 1. Si hay otra imagen con zoom, ciérrala primero
      const images = document.querySelectorAll('.project-img-real');
      images.forEach(img => {
        if (img !== element) {
          img.classList.remove('zoomed');
        }
      });

      // 2. Activa o desactiva el zoom en la imagen que clicaste
      element.classList.toggle('zoomed');
      
      // 3. Evita que el clic se propague y cierre el modal accidentalmente
      event.stopPropagation();
    }

    // --- MODIFICAR LA FUNCIÓN DE CERRAR ---
    // Guardamos tu función original de cerrar
    const originalClose = closeModal; 
    
    // Sobrescribimos closeModal para asegurarnos que quite el zoom primero
    closeModal = function() {
      // Quita el zoom de todas las imágenes
      document.querySelectorAll('.project-img-real').forEach(img => {
        img.classList.remove('zoomed');
      });
      // Ejecuta el cierre normal
      originalClose();
    }
  </script>

</body>
</html>
